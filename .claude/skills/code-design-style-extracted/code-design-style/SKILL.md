---
name: code-design-style
description: 团队代码设计风格和原则指南。涵盖函数声明设计、参数/返回值设计、异常处理、日志规范、监控埋点等。在编写代码（支持 Java/Python/Go 等）、进行 Code Review、或解释代码设计风格时使用。核心原则：语义清晰、避免不必要的耦合、合理的错误处理。具体实现参考各语言的对应示例。
---

# 代码设计风格指南

## 核心原则

### 1. 函数声明设计 - 语义清晰，避免耦合

**原则：函数参数和返回值应该直接反映业务语义，而非技术实现细节**

- ✅ **参数直接体现业务含义**：`String getPhoneLocation(long phoneNumber)`
- ❌ **通过技术容器传递参数**：`String getPhoneLocation(HttpRequest request)`

**避免的情况：**
- 不要将 HTTP 请求、数据库连接等技术对象作为业务函数的参数
- 不要通过 map/object 传递参数导致语义不明
- 参数名称和类型应该清晰表达其用途

详见：[函数声明设计指南](references/function-design.md)

### 2. 日志规范

**原则：日志应该记录有意义的上下文信息，选择合适的日志级别**

- ERROR：系统错误、异常情况
- WARN：警告但不影响运行
- INFO：关键业务节点、状态变更
- DEBUG：调试信息（生产环境通常关闭）

**日志格式建议：**
- 包含关键上下文（用户ID、请求ID、操作对象等）
- 使用结构化日志格式（JSON 或 key=value）
- 避免在循环中频繁记录日志

详见：[日志规范指南](references/logging.md)

### 3. 监控埋点

**原则：在关键操作和性能敏感路径埋点，监控成功率、延迟和业务指标**

**应该埋点的场景：**
- 外部服务调用（成功率、延迟）
- 核心业务操作（订单创建、支付等）
- 慢查询和性能瓶颈点
- 错误和异常情况

**埋点指标：**
- Counter：计数器（请求总数、错误总数）
- Gauge：快照值（当前连接数、队列长度）
- Histogram/Timer：分布统计（延迟分布）

详见：[监控埋点指南](references/metrics.md)

## 使用场景

1. **编写代码时**：遵循团队风格规范，让代码风格一致
2. **Code Review 时**：检查代码是否符合团队规范
3. **解释设计时**：说明为什么某种设计更好或更差
4. **重构代码时**：重构后的代码应该符合团队规范

## 语言支持

本 skill 提供多语言示例，使用时请根据实际编程语言选择对应示例：
- Java 示例见各 reference 文件中的 Java 部分
- Python 示例见各 reference 文件中的 Python 部分
